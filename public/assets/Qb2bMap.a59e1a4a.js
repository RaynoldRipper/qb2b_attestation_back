import{a9 as y,ab as u,_ as T,K as t,L as r,a3 as o,M as n,P as k,T as p,aq as q,aa as x,J as h,ac as I,O as i,N as d,R as g,ad as C,S as Q,Q as N}from"./index.fa0b2748.js";import{Q as S}from"./QCheckbox.ccd69156.js";import{a as V,Q as $}from"./QItem.f4b03c0a.js";import{Q as U}from"./QItemLabel.b8384c0d.js";import{Q as B}from"./QList.589e6883.js";import{I as A}from"./InfoMessage.3967ff68.js";import"./use-dark.cd3327a2.js";import"./use-form.8020c4bb.js";const L={methods:{...y("tests",["testStart"])},computed:{...u("tests",["getTests"])}},R=q('<div class="title-container"><h3 class="title--style-1"><span class="text-primary">\u042D\u0442\u0430\u043F:</span> &quot;\u041A\u0430\u0440\u0442\u0430 \u041A\u0423\u04112\u0411&quot;</h3></div><div class="text-container"><p class="text--style-1 text-center"> \u041D\u0430 \u044D\u0442\u043E\u043C \u044D\u0442\u0430\u043F\u0435 \u0432\u0430\u043C \u043F\u0440\u0435\u0434\u0441\u0442\u043E\u0438\u0442 \u0438\u0437\u0443\u0447\u0438\u0442\u044C &quot;\u041A\u0430\u0440\u0442\u0443 \u041A\u0423\u04112\u0411&quot;. \u041F\u043E\u0441\u043B\u0435 \u0438\u0437\u0443\u0447\u0435\u043D\u0438\u044F &quot;\u041A\u0430\u0440\u0442\u044B \u041A\u0423\u04112\u0411&quot;, \u0432\u0430\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043D\u0430\u0436\u0430\u0442\u044C \u043A\u043D\u043E\u043F\u043A\u0443 \u043F\u0440\u0438\u0441\u0442\u0443\u043F\u0438\u0442\u044C \u043A \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E \u0437\u0430\u0434\u0430\u043D\u0438\u0439 </p></div>',2),w={class:"q-mt-xl q-mb-md info-section text-secondary"},E={class:"row info-section__content"},G=o("div",{class:"text--style-2"},"\u041F\u043E\u0441\u043B\u0435 \u043D\u0430\u0447\u0430\u043B\u0430 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0437\u0430\u0434\u0430\u043D\u0438\u0439, \u0432\u0430\u043C \u043F\u043E \u043F\u0440\u0435\u0436\u043D\u0435\u043C\u0443 \u0431\u0443\u0434\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0430 \u043A\u0430\u0440\u0442\u0430 \u041A\u0423\u04112\u0411",-1);function D(s,c,e,v,a,_){return t(),r(p,null,[R,o("div",w,[o("div",E,[n(k,{class:"info-section__icon q-mr-md",name:"info"}),G])])],64)}var J=T(L,[["render",D]]);const O={data(){return{map_test:x.map_test_data}},components:{Info:A},mounted(){typeof this.getTests[4].value!="undefined"&&(this.map_test=JSON.parse(this.getTests[4].value))},computed:{...u("user",["positionCrmId"]),...u("tests",["getTests"])}},W=o("div",{class:"title-container"},[o("h3",{class:"title--style-1"},[o("span",{class:"text-primary"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u044D\u0442\u0430\u043F\u0430:"),g(' "\u041A\u0430\u0440\u0442\u0430 \u041A\u0423\u04112\u0411"')])],-1),j={key:0};function F(s,c,e,v,a,_){const l=h("Info");return t(),r(p,null,[W,n(l,{message_type:"info",message_text:"\u041F\u043E \u0445\u043E\u0434\u0443 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0437\u0430\u0434\u0430\u043D\u0438\u0439 \u0432\u0430\u0448 \u0440\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044C \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043C\u0435\u0447\u0430\u0442\u044C \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u043D\u044B\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u044F."}),(t(!0),r(p,null,I(a.map_test,(m,M)=>(t(),i(B,{key:M},{default:d(()=>[s.positionCrmId==m.position_crm_id?(t(),r("div",j,[(t(!0),r(p,null,I(m.tasks,f=>(t(),i(V,{tag:"label",key:f,disable:""},{default:d(()=>[n($,{avatar:""},{default:d(()=>[n(S,{modelValue:f.status,"onUpdate:modelValue":b=>f.status=b,color:"secondary",disable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),n($,null,{default:d(()=>[n(U,null,{default:d(()=>[g(C(f.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):Q("",!0)]),_:2},1024))),128))],64)}var H=T(O,[["render",F]]);const K={components:{MapInfo:J,MapTest:H},data(){return{test_id:5,status:null}},methods:{...y("tests",["loadTests","loadUserTests","testStart","saveUserTest"]),saveResults:function(){var s;x.map_test_data.forEach(e=>{e.position_crm_id==this.positionCrmId&&(s=e)});let c={results:s,test_id:5,user_id:this.getUser.id,attestation_id:this.attestationId};this.saveUserTest(c).then(e=>{this.status="STARTED",this.testStart(this.test_id)})}},computed:{...u("tests",["getTests","attestationId"]),...u("user",["getUser","positionCrmId"])},mounted(){this.getTests==null?this.$router.push("/tests"):(this.status=this.getTests[this.test_id].status,console.log(this.status))}},P={class:"buttons-wrap"};function z(s,c,e,v,a,_){const l=h("MapInfo"),m=h("MapTest");return t(),r(p,null,[a.status===null||a.status==="WAITING"?(t(),i(l,{key:0})):(t(),i(m,{key:1})),o("div",P,[a.status==="WAITING"?(t(),i(N,{key:0,color:"primary",label:"\u041F\u0440\u0438\u0441\u0442\u0443\u043F\u0438\u0442\u044C \u043A \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E \u0437\u0430\u0434\u0430\u0447",onClick:_.saveResults},null,8,["onClick"])):Q("",!0)])],64)}var X=T(K,[["render",z]]);const Y={components:{MapTest:X}};function Z(s,c,e,v,a,_){const l=h("MapTest");return t(),i(l)}var ct=T(Y,[["render",Z]]);export{ct as default};
