import{c as Ae,u as Ya,v as we,n as Fa,x as Na,y as $e,z as pt,C as Qt,E as Qe,D as yt,r as X,a as y,w as qe,g as Ye,h as p,a4 as Ve,aD as Pa,b as ut,F as Dt,aE as Ha,H as Oa,_ as Fe,K as U,O as N,N as h,M as d,a3 as c,L as G,ac as je,T as Re,B as La,ax as ra,A as Qa,aF as na,aG as ja,Q as C,aH as Ba,ab as dt,S as B,R as W,ad as O,G as Se,a9 as Et,an as He,J as Le,P as Ke,aa as lt,aj as Je,aC as Ga}from"./index.0d75c0e2.js";import{Q as _e,a as Mt}from"./QItem.4a39f3f6.js";import{Q as Ie}from"./QItemLabel.b1f8b6a6.js";import{Q as ue,a as Be}from"./QBadge.a40b8024.js";import{u as za,a as Za,b as $a}from"./use-tab.a6a9f9a8.js";import{Q as Ka}from"./QTabs.8f462678.js";import{Q as la}from"./QSeparator.7e54881b.js";import{g as jt,s as Bt}from"./touch.3df10340.js";import{c as Ja,h as Xa,p as F}from"./format.dd4f2526.js";import{Q as oa}from"./QCheckbox.af416d7a.js";import{Q as bt}from"./QList.0d2b68e1.js";import{Q as le,a as rt,c as Wa,d as Xe,b as xt}from"./request-helper.3cc002ed.js";import{Q as De}from"./axios-vo.b437fa41.js";import{Q as es}from"./QExpansionItem.15ad9812.js";import{u as ia,a as ua}from"./use-dark.6d52a316.js";import{h as ot}from"./helper.efd73526.js";import{a as ne,u as ts,b as as,c as ss}from"./users-helper.62907bff.js";import{u as rs,a as ns,b as ls,c as os,d as is,f as Gt,Q as We}from"./QInput.e5465a8e.js";import{Q as us,u as ds,a as cs,b as ms,c as Oe}from"./QSelect.995ba299.js";import{u as da,b as fs,c as vs,a as hs}from"./use-form.df8b136a.js";import{Q as St}from"./QForm.9ac9f033.js";import{Q as it}from"./QDialog.1ae754b6.js";import{C as Ue}from"./ClosePopup.a88506ff.js";import{Q as _s}from"./QImg.fa807814.js";import"./uid.42677368.js";import"./QResizeObserver.d9dd7e57.js";import"./use-tick.8ea3487b.js";import"./use-timeout.5b4f77f0.js";import"./rtl.b51694b1.js";import"./QSlideTransition.55bc7b95.js";import"./use-id.b996181d.js";import"./use-model-toggle.7b685ac8.js";import"./focus-manager.02955f48.js";import"./use-prevent-scroll.9e0ead78.js";import"./use-ratio.1fecfa8a.js";var et=Ae({name:"QTab",props:za,emits:Za,setup(e,{slots:a,emit:o}){const{renderTab:i}=$a(e,a,o);return()=>i("div")}});function gs(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,i)=>{const n=parseFloat(o);n&&(a[i]=n)}),a}var ps=Ya({name:"touch-swipe",beforeMount(e,{value:a,arg:o,modifiers:i}){if(i.mouse!==!0&&we.has.touch!==!0)return;const n=i.mouseCapture===!0?"Capture":"",s={handler:a,sensitivity:gs(o),direction:jt(i),noop:Fa,mouseStart(m){Bt(m,s)&&Na(m)&&($e(s,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(m,!0))},touchStart(m){if(Bt(m,s)){const l=m.target;$e(s,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),s.start(m)}},start(m,l){we.is.firefox===!0&&pt(e,!0);const g=Qt(m);s.event={x:g.left,y:g.top,time:Date.now(),mouse:l===!0,dir:!1}},move(m){if(s.event===void 0)return;if(s.event.dir!==!1){Qe(m);return}const l=Date.now()-s.event.time;if(l===0)return;const g=Qt(m),T=g.left-s.event.x,f=Math.abs(T),S=g.top-s.event.y,w=Math.abs(S);if(s.event.mouse!==!0){if(f<s.sensitivity[1]&&w<s.sensitivity[1]){s.end(m);return}}else if(window.getSelection().toString()!==""){s.end(m);return}else if(f<s.sensitivity[2]&&w<s.sensitivity[2])return;const P=f/l,j=w/l;s.direction.vertical===!0&&f<w&&f<100&&j>s.sensitivity[0]&&(s.event.dir=S<0?"up":"down"),s.direction.horizontal===!0&&f>w&&w<100&&P>s.sensitivity[0]&&(s.event.dir=T<0?"left":"right"),s.direction.up===!0&&f<w&&S<0&&f<100&&j>s.sensitivity[0]&&(s.event.dir="up"),s.direction.down===!0&&f<w&&S>0&&f<100&&j>s.sensitivity[0]&&(s.event.dir="down"),s.direction.left===!0&&f>w&&T<0&&w<100&&P>s.sensitivity[0]&&(s.event.dir="left"),s.direction.right===!0&&f>w&&T>0&&w<100&&P>s.sensitivity[0]&&(s.event.dir="right"),s.event.dir!==!1?(Qe(m),s.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ja(),s.styleCleanup=q=>{s.styleCleanup=void 0,document.body.classList.remove("non-selectable");const V=()=>{document.body.classList.remove("no-pointer-events--children")};q===!0?setTimeout(V,50):V()}),s.handler({evt:m,touch:s.event.mouse!==!0,mouse:s.event.mouse,direction:s.event.dir,duration:l,distance:{x:f,y:w}})):s.end(m)},end(m){s.event!==void 0&&(yt(s,"temp"),we.is.firefox===!0&&pt(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(!0),m!==void 0&&s.event.dir!==!1&&Qe(m),s.event=void 0)}};if(e.__qtouchswipe=s,i.mouse===!0){const m=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";$e(s,"main",[[e,"mousedown","mouseStart",`passive${m}`]])}we.has.touch===!0&&$e(s,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const o=e.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=jt(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(yt(a,"main"),yt(a,"temp"),we.is.firefox===!0&&pt(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function ca(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return e.hasOwnProperty(a)},clearCache(a){a!==void 0?delete e[a]:e={}}}}const ys={name:{required:!0},disable:Boolean},zt={setup(e,{slots:a}){return()=>p("div",{class:"q-panel scroll",role:"tabpanel"},ut(a.default))}},bs={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},xs=["update:modelValue","beforeTransition","transition"];function Ss(){const{props:e,emit:a,proxy:o}=Ye(),{getCache:i}=ca();let n,s;const m=X(null),l=X(null);function g(E){const R=e.vertical===!0?"up":"left";z((o.$q.lang.rtl===!0?-1:1)*(E.direction===R?1:-1))}const T=y(()=>[[ps,g,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),f=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),S=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),w=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),P=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),j=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),q=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);qe(()=>e.modelValue,(E,R)=>{const ee=H(E)===!0?x(E):-1;s!==!0&&I(ee===-1?0:ee<x(R)?-1:1),m.value!==ee&&(m.value=ee,a("beforeTransition",E,R),Dt(()=>{a("transition",E,R)}))});function V(){z(1)}function me(){z(-1)}function D(E){a("update:modelValue",E)}function H(E){return E!=null&&E!==""}function x(E){return n.findIndex(R=>R.props.name===E&&R.props.disable!==""&&R.props.disable!==!0)}function $(){return n.filter(E=>E.props.disable!==""&&E.props.disable!==!0)}function I(E){const R=E!==0&&e.animated===!0&&m.value!==-1?"q-transition--"+(E===-1?f.value:S.value):null;l.value!==R&&(l.value=R)}function z(E,R=m.value){let ee=R+E;for(;ee!==-1&&ee<n.length;){const de=n[ee];if(de!==void 0&&de.props.disable!==""&&de.props.disable!==!0){I(E),s=!0,a("update:modelValue",de.props.name),setTimeout(()=>{s=!1});return}ee+=E}e.infinite===!0&&n.length!==0&&R!==-1&&R!==n.length&&z(E,E===-1?n.length:-1)}function te(){const E=x(e.modelValue);return m.value!==E&&(m.value=E),!0}function A(){const E=H(e.modelValue)===!0&&te()&&n[m.value];return e.keepAlive===!0?[p(Ha,j.value,[p(q.value===!0?i(P.value,()=>({...zt,name:P.value})):zt,{key:P.value,style:w.value},()=>E)])]:[p("div",{class:"q-panel scroll",style:w.value,key:P.value,role:"tabpanel"},[E])]}function Z(){if(n.length!==0)return e.animated===!0?[p(Ve,{name:l.value},A)]:A()}function K(E){return n=Pa(ut(E.default,[])).filter(R=>R.props!==null&&R.props.slot===void 0&&H(R.props.name)===!0),n.length}function Ee(){return n}return Object.assign(o,{next:V,previous:me,goTo:D}),{panelIndex:m,panelDirectives:T,updatePanelsList:K,updatePanelIndex:te,getPanelContent:Z,getEnabledPanels:$,getPanels:Ee,isValidPanelName:H,keepAliveProps:j,needsUniqueKeepAliveWrapper:q,goToPanelByOffset:z,goToPanel:D,nextPanel:V,previousPanel:me}}var tt=Ae({name:"QTabPanel",props:ys,setup(e,{slots:a}){return()=>p("div",{class:"q-tab-panel",role:"tabpanel"},ut(a.default))}}),Us=Ae({name:"QTabPanels",props:{...bs,...ia},emits:xs,setup(e,{slots:a}){const o=Ye(),i=ua(e,o.proxy.$q),{updatePanelsList:n,getPanelContent:s,panelDirectives:m}=Ss(),l=y(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(a),Oa("div",{class:l.value},s(),"pan",e.swipeable,()=>m.value))}});const qs={},Ds={class:"row justify-center q-mb-md"},Es={class:"col-2 q-mr-md"},Ms={class:"col-2 q-mr-md"},Ts={class:"col-2"},ks={class:"q-mt-md"},Cs={class:"col-2 q-mb-md"};function ws(e,a,o,i,n,s){return U(),N(De,{class:"my-card q-pt-md q-mb-sm",flat:"",bordered:""},{default:h(()=>[d(Mt,{style:{"max-width":"250px"}},{default:h(()=>[d(_e,{avatar:""},{default:h(()=>[d(ue,{type:"QAvatar"})]),_:1}),d(_e,null,{default:h(()=>[d(Ie,null,{default:h(()=>[d(ue,{type:"text"})]),_:1}),d(Ie,{caption:""},{default:h(()=>[d(ue,{type:"text",width:"65%"})]),_:1})]),_:1})]),_:1}),d(le,null,{default:h(()=>[c("div",Ds,[c("div",Es,[d(ue,{type:"rect"})]),c("div",Ms,[d(ue,{type:"rect"})]),c("div",Ts,[d(ue,{type:"rect"})])]),d(la),c("div",ks,[c("div",Cs,[d(ue,{type:"rect",width:"40%"})]),c("div",null,[d(ue,{type:"text"})]),c("div",null,[d(ue,{type:"text"})]),c("div",null,[d(ue,{type:"text",width:"50%"})])])]),_:1})]),_:1})}var Vs=Fe(qs,[["render",ws]]);const Is={props:{rows:Number}};function Rs(e,a,o,i,n,s){return U(),N(le,{class:"text-caption"},{default:h(()=>[(U(!0),G(Re,null,je(o.rows,m=>(U(),N(ue,{class:"q-mb-sm",key:m}))),128))]),_:1})}var As=Fe(Is,[["render",Rs]]);function ke(e,a,o,i){const n=[];return e.forEach(s=>{i(s)===!0?n.push(s):a.push({failedPropValidation:o,file:s})}),n}function at(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),Qe(e)}const Ys={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Fs=["rejected"];function Ns({editable:e,dnd:a,getFileInput:o,addFilesToQueue:i}){const{props:n,emit:s,proxy:m}=Ye(),l=X(null),g=y(()=>n.accept!==void 0?n.accept.split(",").map(D=>(D=D.trim(),D==="*"?"*/":(D.endsWith("/*")&&(D=D.slice(0,D.length-1)),D.toUpperCase()))):null),T=y(()=>parseInt(n.maxFiles,10)),f=y(()=>parseInt(n.maxTotalSize,10));function S(D){if(e.value)if(D!==Object(D)&&(D={target:null}),D.target!==null&&D.target.matches('input[type="file"]')===!0)D.clientX===0&&D.clientY===0&&La(D);else{const H=o();H&&H!==D.target&&H.click(D)}}function w(D){e.value&&D&&i(null,D)}function P(D,H,x,$){let I=Array.from(H||D.target.files);const z=[],te=()=>{z.length!==0&&s("rejected",z)};if(n.accept!==void 0&&g.value.indexOf("*/")===-1&&(I=ke(I,z,"accept",A=>g.value.some(Z=>A.type.toUpperCase().startsWith(Z)||A.name.toUpperCase().endsWith(Z))),I.length===0))return te();if(n.maxFileSize!==void 0){const A=parseInt(n.maxFileSize,10);if(I=ke(I,z,"max-file-size",Z=>Z.size<=A),I.length===0)return te()}if(n.multiple!==!0&&I.length!==0&&(I=[I[0]]),I.forEach(A=>{A.__key=A.webkitRelativePath+A.lastModified+A.name+A.size}),$===!0){const A=x.map(Z=>Z.__key);I=ke(I,z,"duplicate",Z=>A.includes(Z.__key)===!1)}if(I.length===0)return te();if(n.maxTotalSize!==void 0){let A=$===!0?x.reduce((Z,K)=>Z+K.size,0):0;if(I=ke(I,z,"max-total-size",Z=>(A+=Z.size,A<=f.value)),I.length===0)return te()}if(typeof n.filter=="function"){const A=n.filter(I);I=ke(I,z,"filter",Z=>A.includes(Z))}if(n.maxFiles!==void 0){let A=$===!0?x.length:0;if(I=ke(I,z,"max-files",()=>(A++,A<=T.value)),I.length===0)return te()}if(te(),I.length!==0)return I}function j(D){at(D),a.value!==!0&&(a.value=!0)}function q(D){Qe(D),(D.relatedTarget!==null||we.is.safari!==!0?D.relatedTarget!==l.value:document.elementsFromPoint(D.clientX,D.clientY).includes(l.value)===!1)===!0&&(a.value=!1)}function V(D){at(D);const H=D.dataTransfer.files;H.length!==0&&i(null,H),a.value=!1}function me(D){if(a.value===!0)return p("div",{ref:l,class:`q-${D}__dnd absolute-full`,onDragenter:at,onDragover:at,onDragleave:q,onDrop:V})}return Object.assign(m,{pickFiles:S,addFiles:w}),{pickFiles:S,addFiles:w,onDragover:j,onDragleave:q,processFiles:P,getDndNode:me,maxFilesNumber:T,maxTotalSizeNumber:f}}var Zt=Ae({name:"QFile",inheritAttrs:!1,props:{...rs,...da,...Ys,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ns,...Fs],setup(e,{slots:a,emit:o,attrs:i}){const{proxy:n}=Ye(),s=ls(),m=X(null),l=X(!1),g=fs(e),{pickFiles:T,onDragover:f,onDragleave:S,processFiles:w,getDndNode:P}=Ns({editable:s.editable,dnd:l,getFileInput:Ee,addFilesToQueue:E}),j=os(e),q=y(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),V=y(()=>Gt(q.value)),me=y(()=>q.value.map(M=>M.name).join(", ")),D=y(()=>Xa(q.value.reduce((M,J)=>M+J.size,0))),H=y(()=>({totalSize:D.value,filesNumber:q.value.length,maxFiles:e.maxFiles})),x=y(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:g.value,...i,id:s.targetUid.value,disabled:s.editable.value!==!0})),$=y(()=>"q-file q-field--auto-height"+(l.value===!0?" q-file--dnd":"")),I=y(()=>e.multiple===!0&&e.append===!0);function z(M){const J=q.value.slice();J.splice(M,1),A(J)}function te(M){const J=q.value.indexOf(M);J!==-1&&z(J)}function A(M){o("update:modelValue",e.multiple===!0?M:M[0])}function Z(M){M.keyCode===13&&Qa(M)}function K(M){(M.keyCode===13||M.keyCode===32)&&T(M)}function Ee(){return m.value}function E(M,J){const ae=w(M,J,q.value,I.value),pe=Ee();pe!=null&&(pe.value=""),ae!==void 0&&((e.multiple===!0?e.modelValue&&ae.every(ye=>q.value.includes(ye)):e.modelValue===ae[0])||A(I.value===!0?q.value.concat(ae):ae))}function R(){return[p("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ee(){if(a.file!==void 0)return q.value.length===0?R():q.value.map((J,ae)=>a.file({index:ae,file:J,ref:this}));if(a.selected!==void 0)return q.value.length===0?R():a.selected({files:q.value,ref:this});if(e.useChips===!0)return q.value.length===0?R():q.value.map((J,ae)=>p(us,{key:"file-"+ae,removable:s.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{z(ae)}},()=>p("span",{class:"ellipsis",textContent:J.name})));const M=e.displayValue!==void 0?e.displayValue:me.value;return M.length!==0?[p("div",{class:e.inputClass,style:e.inputStyle,textContent:M})]:R()}function de(){const M={ref:m,...x.value,...j.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:E};return e.multiple===!0&&(M.multiple=!0),p("input",M)}return Object.assign(s,{fieldClass:$,emitValue:A,hasValue:V,inputRef:m,innerValue:q,floatingLabel:y(()=>V.value===!0||Gt(e.displayValue)),computedCounter:y(()=>{if(e.counterLabel!==void 0)return e.counterLabel(H.value);const M=e.maxFiles;return`${q.value.length}${M!==void 0?" / "+M:""} (${D.value})`}),getControlChild:()=>P("file"),getControl:()=>{const M={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return s.editable.value===!0&&Object.assign(M,{onDragover:f,onDragleave:S,onKeydown:Z,onKeyup:K}),p("div",M,[de()].concat(ee()))}}),Object.assign(n,{removeAtIndex:z,removeFile:te,getNativeElement:()=>m.value}),ra(n,"nativeEl",()=>m.value),is(s)}});const ge=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ps(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Qs(kt(e,a,o))}function $t(e,a,o){return fa(Ls(e,a,o))}function Hs(e){return Os(e)===0}function nt(e,a){return a<=6?31:a<=11||Hs(e)?30:29}function Os(e){const a=ge.length;let o=ge[0],i,n,s,m,l;if(e<o||e>=ge[a-1])throw new Error("Invalid Jalaali year "+e);for(l=1;l<a&&(i=ge[l],n=i-o,!(e<i));l+=1)o=i;return m=e-o,n-m<6&&(m=m-n+Q(n+4,33)*33),s=oe(oe(m+1,33)-1,4),s===-1&&(s=4),s}function ma(e,a){const o=ge.length,i=e+621;let n=-14,s=ge[0],m,l,g,T,f;if(e<s||e>=ge[o-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<o&&(m=ge[f],l=m-s,!(e<m));f+=1)n=n+Q(l,33)*8+Q(oe(l,33),4),s=m;T=e-s,n=n+Q(T,33)*8+Q(oe(T,33)+3,4),oe(l,33)===4&&l-T===4&&(n+=1);const S=Q(i,4)-Q((Q(i,100)+1)*3,4)-150,w=20+n-S;return a||(l-T<6&&(T=T-l+Q(l+4,33)*33),g=oe(oe(T+1,33)-1,4),g===-1&&(g=4)),{leap:g,gy:i,march:w}}function Ls(e,a,o){const i=ma(e,!0);return kt(i.gy,3,i.march)+(a-1)*31-Q(a,7)*(a-7)+o-1}function Qs(e){const a=fa(e).gy;let o=a-621,i,n,s;const m=ma(o,!1),l=kt(a,3,m.march);if(s=e-l,s>=0){if(s<=185)return n=1+Q(s,31),i=oe(s,31)+1,{jy:o,jm:n,jd:i};s-=186}else o-=1,s+=179,m.leap===1&&(s+=1);return n=7+Q(s,30),i=oe(s,30)+1,{jy:o,jm:n,jd:i}}function kt(e,a,o){let i=Q((e+Q(a-8,6)+100100)*1461,4)+Q(153*oe(a+9,12)+2,5)+o-34840408;return i=i-Q(Q(e+100100+Q(a-8,6),100)*3,4)+752,i}function fa(e){let a=4*e+139361631;a=a+Q(Q(4*e+183187720,146097)*3,4)*4-3908;const o=Q(oe(a,1461),4)*5+308,i=Q(oe(o,153),5)+1,n=oe(Q(o,153),12)+1;return{gy:Q(a,1461)-100100+Q(8-n,6),gm:n,gd:i}}function Q(e,a){return~~(e/a)}function oe(e,a){return e-~~(e/a)*a}const js=["gregorian","persian"],Bs={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>js.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Gs=["update:modelValue"];function ve(e){return e.year+"/"+F(e.month)+"/"+F(e.day)}function zs(e,a){const o=y(()=>e.disable!==!0&&e.readonly!==!0),i=y(()=>o.value===!0?0:-1),n=y(()=>{const l=[];return e.color!==void 0&&l.push(`bg-${e.color}`),e.textColor!==void 0&&l.push(`text-${e.textColor}`),l.join(" ")});function s(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function m(l){const g=new Date,T=l===!0?null:0;if(e.calendar==="persian"){const f=Ps(g);return{year:f.jy,month:f.jm,day:f.jd}}return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:o,tabindex:i,headerClass:n,getLocale:s,getCurrentDate:m}}const va=864e5,Zs=36e5,Tt=6e4,ha="YYYY-MM-DDTHH:mm:ss.SSSZ",$s=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ks=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Ut={};function Js(e,a){const o="("+a.days.join("|")+")",i=e+o;if(Ut[i]!==void 0)return Ut[i];const n="("+a.daysShort.join("|")+")",s="("+a.months.join("|")+")",m="("+a.monthsShort.join("|")+")",l={};let g=0;const T=e.replace(Ks,S=>{switch(g++,S){case"YY":return l.YY=g,"(-?\\d{1,2})";case"YYYY":return l.YYYY=g,"(-?\\d{1,4})";case"M":return l.M=g,"(\\d{1,2})";case"MM":return l.M=g,"(\\d{2})";case"MMM":return l.MMM=g,m;case"MMMM":return l.MMMM=g,s;case"D":return l.D=g,"(\\d{1,2})";case"Do":return l.D=g++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return l.D=g,"(\\d{2})";case"H":return l.H=g,"(\\d{1,2})";case"HH":return l.H=g,"(\\d{2})";case"h":return l.h=g,"(\\d{1,2})";case"hh":return l.h=g,"(\\d{2})";case"m":return l.m=g,"(\\d{1,2})";case"mm":return l.m=g,"(\\d{2})";case"s":return l.s=g,"(\\d{1,2})";case"ss":return l.s=g,"(\\d{2})";case"S":return l.S=g,"(\\d{1})";case"SS":return l.S=g,"(\\d{2})";case"SSS":return l.S=g,"(\\d{3})";case"A":return l.A=g,"(AM|PM)";case"a":return l.a=g,"(am|pm)";case"aa":return l.aa=g,"(a\\.m\\.|p\\.m\\.)";case"ddd":return n;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return l.Z=g,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return l.ZZ=g,"(Z|[+-]\\d{2}\\d{2})";case"X":return l.X=g,"(-?\\d+)";case"x":return l.x=g,"(-?\\d{4,})";default:return g--,S[0]==="["&&(S=S.substring(1,S.length-1)),S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),f={map:l,regex:new RegExp("^"+T)};return Ut[i]=f,f}function _a(e,a){return e!==void 0?e:a!==void 0?a.date:ja.date}function Kt(e,a=""){const o=e>0?"-":"+",i=Math.abs(e),n=Math.floor(i/60),s=i%60;return o+F(n)+a+F(s)}function Xs(e,a,o,i,n){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(n!==void 0&&Object.assign(s,n),e==null||e===""||typeof e!="string")return s;a===void 0&&(a=ha);const m=_a(o,na.props),l=m.months,g=m.monthsShort,{regex:T,map:f}=Js(a,m),S=e.match(T);if(S===null)return s;let w="";if(f.X!==void 0||f.x!==void 0){const P=parseInt(S[f.X!==void 0?f.X:f.x],10);if(isNaN(P)===!0||P<0)return s;const j=new Date(P*(f.X!==void 0?1e3:1));s.year=j.getFullYear(),s.month=j.getMonth()+1,s.day=j.getDate(),s.hour=j.getHours(),s.minute=j.getMinutes(),s.second=j.getSeconds(),s.millisecond=j.getMilliseconds()}else{if(f.YYYY!==void 0)s.year=parseInt(S[f.YYYY],10);else if(f.YY!==void 0){const P=parseInt(S[f.YY],10);s.year=P<0?P:2e3+P}if(f.M!==void 0){if(s.month=parseInt(S[f.M],10),s.month<1||s.month>12)return s}else f.MMM!==void 0?s.month=g.indexOf(S[f.MMM])+1:f.MMMM!==void 0&&(s.month=l.indexOf(S[f.MMMM])+1);if(f.D!==void 0){if(s.day=parseInt(S[f.D],10),s.year===null||s.month===null||s.day<1)return s;const P=i!=="persian"?new Date(s.year,s.month,0).getDate():nt(s.year,s.month);if(s.day>P)return s}f.H!==void 0?s.hour=parseInt(S[f.H],10)%24:f.h!==void 0&&(s.hour=parseInt(S[f.h],10)%12,(f.A&&S[f.A]==="PM"||f.a&&S[f.a]==="pm"||f.aa&&S[f.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),f.m!==void 0&&(s.minute=parseInt(S[f.m],10)%60),f.s!==void 0&&(s.second=parseInt(S[f.s],10)%60),f.S!==void 0&&(s.millisecond=parseInt(S[f.S],10)*10**(3-S[f.S].length)),(f.Z!==void 0||f.ZZ!==void 0)&&(w=f.Z!==void 0?S[f.Z].replace(":",""):S[f.ZZ],s.timezoneOffset=(w[0]==="+"?-1:1)*(60*w.slice(1,3)+1*w.slice(3,5)))}return s.dateHash=F(s.year,6)+"/"+F(s.month)+"/"+F(s.day),s.timeHash=F(s.hour)+":"+F(s.minute)+":"+F(s.second)+w,s}function Jt(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const i=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-i);const n=(a-o)/(va*7);return 1+Math.floor(n)}function ce(e,a,o){const i=new Date(e),n=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":i[`${n}Month`](0);case"month":case"months":i[`${n}Date`](1);case"day":case"days":case"date":i[`${n}Hours`](0);case"hour":case"hours":i[`${n}Minutes`](0);case"minute":case"minutes":i[`${n}Seconds`](0);case"second":case"seconds":i[`${n}Milliseconds`](0)}return i}function st(e,a,o){return(e.getTime()-e.getTimezoneOffset()*Tt-(a.getTime()-a.getTimezoneOffset()*Tt))/o}function ga(e,a,o="days"){const i=new Date(e),n=new Date(a);switch(o){case"years":case"year":return i.getFullYear()-n.getFullYear();case"months":case"month":return(i.getFullYear()-n.getFullYear())*12+i.getMonth()-n.getMonth();case"days":case"day":case"date":return st(ce(i,"day"),ce(n,"day"),va);case"hours":case"hour":return st(ce(i,"hour"),ce(n,"hour"),Zs);case"minutes":case"minute":return st(ce(i,"minute"),ce(n,"minute"),Tt);case"seconds":case"second":return st(ce(i,"second"),ce(n,"second"),1e3)}}function Xt(e){return ga(e,ce(e,"year"),"days")+1}function Wt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ea={YY(e,a,o){const i=this.YYYY(e,a,o)%100;return i>=0?F(i):"-"+F(Math.abs(i))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return F(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Wt(this.Q(e))},D(e){return e.getDate()},Do(e){return Wt(e.getDate())},DD(e){return F(e.getDate())},DDD(e){return Xt(e)},DDDD(e){return F(Xt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Jt(e)},ww(e){return F(Jt(e))},H(e){return e.getHours()},HH(e){return F(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return F(this.h(e))},m(e){return e.getMinutes()},mm(e){return F(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return F(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return F(Math.floor(e.getMilliseconds()/10))},SSS(e){return F(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,i){const n=i==null?e.getTimezoneOffset():i;return Kt(n,":")},ZZ(e,a,o,i){const n=i==null?e.getTimezoneOffset():i;return Kt(n)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ws(e,a,o,i,n){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;a===void 0&&(a=ha);const m=_a(o,na.props);return a.replace($s,(l,g)=>l in ea?ea[l](s,m,i,n):g===void 0?l:g.split("\\]").join("]"))}const xe=20,er=["Calendar","Years","Months"],ta=e=>er.includes(e),qt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ce=" \u2014 ";function he(e){return e.year+"/"+F(e.month)}var aa=Ae({name:"QDate",props:{...Bs,...da,...ia,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:qt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:qt},navigationMaxYearMonth:{type:String,validator:qt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ta}},emits:[...Gs,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:i}=Ye(),{$q:n}=i,s=ua(e,n),{getCache:m}=ca(),{tabindex:l,headerClass:g,getLocale:T,getCurrentDate:f}=zs(e,n);let S;const w=vs(e),P=hs(w),j=X(null),q=X(Yt()),V=X(T()),me=y(()=>Yt()),D=y(()=>T()),H=y(()=>f()),x=X(Ft(q.value,V.value)),$=X(e.defaultView),I=n.lang.rtl===!0?"right":"left",z=X(I.value),te=X(I.value),A=x.value.year,Z=X(A-A%xe-(A<0?xe:0)),K=X(null),Ee=y(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(s.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),E=y(()=>e.color||"primary"),R=y(()=>e.textColor||"white"),ee=y(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),de=y(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),M=y(()=>de.value.filter(t=>typeof t=="string").map(t=>ft(t,q.value,V.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),J=y(()=>{const t=r=>ft(r,q.value,V.value);return de.value.filter(r=>Ba(r)===!0&&r.from!==void 0&&r.to!==void 0).map(r=>({from:t(r.from),to:t(r.to)})).filter(r=>r.from.dateHash!==null&&r.to.dateHash!==null&&r.from.dateHash<r.to.dateHash)}),ae=y(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const r=$t(t.year,t.month,t.day);return new Date(r.gy,r.gm-1,r.gd)}),pe=y(()=>e.calendar==="persian"?ve:(t,r,u)=>Ws(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),r===void 0?q.value:r,u===void 0?V.value:u,t.year,t.timezoneOffset)),ye=y(()=>M.value.length+J.value.reduce((t,r)=>t+1+ga(ae.value(r.to),ae.value(r.from)),0)),Ct=y(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(K.value!==null){const u=K.value.init,v=ae.value(u);return V.value.daysShort[v.getDay()]+", "+V.value.monthsShort[u.month-1]+" "+u.day+Ce+"?"}if(ye.value===0)return Ce;if(ye.value>1)return`${ye.value} ${V.value.pluralDay}`;const t=M.value[0],r=ae.value(t);return isNaN(r.valueOf())===!0?Ce:V.value.headerTitle!==void 0?V.value.headerTitle(r,t):V.value.daysShort[r.getDay()]+", "+V.value.monthsShort[t.month-1]+" "+t.day}),pa=y(()=>M.value.concat(J.value.map(r=>r.from)).sort((r,u)=>r.year-u.year||r.month-u.month)[0]),ya=y(()=>M.value.concat(J.value.map(r=>r.to)).sort((r,u)=>u.year-r.year||u.month-r.month)[0]),wt=y(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ye.value===0)return Ce;if(ye.value>1){const t=pa.value,r=ya.value,u=V.value.monthsShort;return u[t.month-1]+(t.year!==r.year?" "+t.year+Ce+u[r.month-1]+" ":t.month!==r.month?Ce+u[r.month-1]:"")+" "+r.year}return M.value[0].year}),Ge=y(()=>{const t=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?t.reverse():t}),Vt=y(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):V.value.firstDayOfWeek),ba=y(()=>{const t=V.value.daysShort,r=Vt.value;return r>0?t.slice(r,7).concat(t.slice(0,r)):t}),fe=y(()=>{const t=x.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():nt(t.year,t.month)}),xa=y(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),se=y(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),re=y(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),ct=y(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return se.value!==null&&se.value.year>=x.value.year&&(t.year.prev=!1,se.value.year===x.value.year&&se.value.month>=x.value.month&&(t.month.prev=!1)),re.value!==null&&re.value.year<=x.value.year&&(t.year.next=!1,re.value.year===x.value.year&&re.value.month<=x.value.month&&(t.month.next=!1)),t}),ze=y(()=>{const t={};return M.value.forEach(r=>{const u=he(r);t[u]===void 0&&(t[u]=[]),t[u].push(r.day)}),t}),It=y(()=>{const t={};return J.value.forEach(r=>{const u=he(r.from),v=he(r.to);if(t[u]===void 0&&(t[u]=[]),t[u].push({from:r.from.day,to:u===v?r.to.day:void 0,range:r}),u<v){let _;const{year:Y,month:b}=r.from,k=b<12?{year:Y,month:b+1}:{year:Y+1,month:1};for(;(_=he(k))<=v;)t[_]===void 0&&(t[_]=[]),t[_].push({from:void 0,to:_===v?r.to.day:void 0,range:r}),k.month++,k.month>12&&(k.year++,k.month=1)}}),t}),Ne=y(()=>{if(K.value===null)return;const{init:t,initHash:r,final:u,finalHash:v}=K.value,[_,Y]=r<=v?[t,u]:[u,t],b=he(_),k=he(Y);if(b!==ie.value&&k!==ie.value)return;const L={};return b===ie.value?(L.from=_.day,L.includeFrom=!0):L.from=1,k===ie.value?(L.to=Y.day,L.includeTo=!0):L.to=fe.value,L}),ie=y(()=>he(x.value)),Sa=y(()=>{const t={};if(e.options===void 0){for(let u=1;u<=fe.value;u++)t[u]=!0;return t}const r=typeof e.options=="function"?e.options:u=>e.options.includes(u);for(let u=1;u<=fe.value;u++){const v=ie.value+"/"+F(u);t[u]=r(v)}return t}),Ua=y(()=>{const t={};if(e.events===void 0)for(let r=1;r<=fe.value;r++)t[r]=!1;else{const r=typeof e.events=="function"?e.events:u=>e.events.includes(u);for(let u=1;u<=fe.value;u++){const v=ie.value+"/"+F(u);t[u]=r(v)===!0&&xa.value(v)}}return t}),qa=y(()=>{let t,r;const{year:u,month:v}=x.value;if(e.calendar!=="persian")t=new Date(u,v-1,1),r=new Date(u,v-1,0).getDate();else{const _=$t(u,v,1);t=new Date(_.gy,_.gm-1,_.gd);let Y=v-1,b=u;Y===0&&(Y=12,b--),r=nt(b,Y)}return{days:t.getDay()-Vt.value-1,endDay:r}}),Rt=y(()=>{const t=[],{days:r,endDay:u}=qa.value,v=r<0?r+7:r;if(v<6)for(let b=u-v;b<=u;b++)t.push({i:b,fill:!0});const _=t.length;for(let b=1;b<=fe.value;b++){const k={i:b,event:Ua.value[b],classes:[]};Sa.value[b]===!0&&(k.in=!0,k.flat=!0),t.push(k)}if(ze.value[ie.value]!==void 0&&ze.value[ie.value].forEach(b=>{const k=_+b-1;Object.assign(t[k],{selected:!0,unelevated:!0,flat:!1,color:E.value,textColor:R.value})}),It.value[ie.value]!==void 0&&It.value[ie.value].forEach(b=>{if(b.from!==void 0){const k=_+b.from-1,L=_+(b.to||fe.value)-1;for(let Pe=k;Pe<=L;Pe++)Object.assign(t[Pe],{range:b.range,unelevated:!0,color:E.value,textColor:R.value});Object.assign(t[k],{rangeFrom:!0,flat:!1}),b.to!==void 0&&Object.assign(t[L],{rangeTo:!0,flat:!1})}else if(b.to!==void 0){const k=_+b.to-1;for(let L=_;L<=k;L++)Object.assign(t[L],{range:b.range,unelevated:!0,color:E.value,textColor:R.value});Object.assign(t[k],{flat:!1,rangeTo:!0})}else{const k=_+fe.value-1;for(let L=_;L<=k;L++)Object.assign(t[L],{range:b.range,unelevated:!0,color:E.value,textColor:R.value})}}),Ne.value!==void 0){const b=_+Ne.value.from-1,k=_+Ne.value.to-1;for(let L=b;L<=k;L++)t[L].color=E.value,t[L].editRange=!0;Ne.value.includeFrom===!0&&(t[b].editRangeFrom=!0),Ne.value.includeTo===!0&&(t[k].editRangeTo=!0)}x.value.year===H.value.year&&x.value.month===H.value.month&&(t[_+H.value.day-1].today=!0);const Y=t.length%7;if(Y>0){const b=7-Y;for(let k=1;k<=b;k++)t.push({i:k,fill:!0})}return t.forEach(b=>{let k="q-date__calendar-item ";b.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${b.in===!0?"in":"out"}`,b.range!==void 0&&(k+=` q-date__range${b.rangeTo===!0?"-to":b.rangeFrom===!0?"-from":""}`),b.editRange===!0&&(k+=` q-date__edit-range${b.editRangeFrom===!0?"-from":""}${b.editRangeTo===!0?"-to":""}`),(b.range!==void 0||b.editRange===!0)&&(k+=` text-${b.color}`)),b.classes=k}),t}),Da=y(()=>e.disable===!0?{"aria-disabled":"true"}:{});qe(()=>e.modelValue,t=>{if(S===t)S=0;else{const r=Ft(q.value,V.value);Me(r.year,r.month,r)}}),qe($,()=>{j.value!==null&&i.$el.contains(document.activeElement)===!0&&j.value.focus()}),qe(()=>x.value.year+"|"+x.value.month,()=>{o("navigation",{year:x.value.year,month:x.value.month})}),qe(me,t=>{Lt(t,V.value,"mask"),q.value=t}),qe(D,t=>{Lt(q.value,t,"locale"),V.value=t});function At(){const{year:t,month:r,day:u}=H.value,v={...x.value,year:t,month:r,day:u},_=ze.value[he(v)];(_===void 0||_.includes(v.day)===!1)&&ht(v),mt(v.year,v.month)}function Ea(t){ta(t)===!0&&($.value=t)}function Ma(t,r){["month","year"].includes(t)&&(t==="month"?Pt:vt)(r===!0?-1:1)}function mt(t,r){$.value="Calendar",Me(t,r)}function Ta(t,r){if(e.range===!1||!t){K.value=null;return}const u=Object.assign({...x.value},t),v=r!==void 0?Object.assign({...x.value},r):u;K.value={init:u,initHash:ve(u),final:v,finalHash:ve(v)},mt(u.year,u.month)}function Yt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function ft(t,r,u){return Xs(t,r,u,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ft(t,r){const u=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(u.length===0)return Nt();const v=u[u.length-1],_=ft(v.from!==void 0?v.from:v,t,r);return _.dateHash===null?Nt():_}function Nt(){let t,r;if(e.defaultYearMonth!==void 0){const u=e.defaultYearMonth.split("/");t=parseInt(u[0],10),r=parseInt(u[1],10)}else{const u=H.value!==void 0?H.value:f();t=u.year,r=u.month}return{year:t,month:r,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+F(r)+"/01"}}function Pt(t){let r=x.value.year,u=Number(x.value.month)+t;u===13?(u=1,r++):u===0&&(u=12,r--),Me(r,u),ee.value===!0&&Ze("month")}function vt(t){const r=Number(x.value.year)+t;Me(r,x.value.month),ee.value===!0&&Ze("year")}function ka(t){Me(t,x.value.month),$.value=e.defaultView==="Years"?"Months":"Calendar",ee.value===!0&&Ze("year")}function Ca(t){Me(x.value.year,t),$.value="Calendar",ee.value===!0&&Ze("month")}function wa(t,r){const u=ze.value[r];(u!==void 0&&u.includes(t.day)===!0?_t:ht)(t)}function be(t){return{year:t.year,month:t.month,day:t.day}}function Me(t,r,u){if(se.value!==null&&t<=se.value.year&&((r<se.value.month||t<se.value.year)&&(r=se.value.month),t=se.value.year),re.value!==null&&t>=re.value.year&&((r>re.value.month||t>re.value.year)&&(r=re.value.month),t=re.value.year),u!==void 0){const{hour:_,minute:Y,second:b,millisecond:k,timezoneOffset:L,timeHash:Pe}=u;Object.assign(x.value,{hour:_,minute:Y,second:b,millisecond:k,timezoneOffset:L,timeHash:Pe})}const v=t+"/"+F(r)+"/01";v!==x.value.dateHash&&(z.value=x.value.dateHash<v==(n.lang.rtl!==!0)?"left":"right",t!==x.value.year&&(te.value=z.value),Dt(()=>{Z.value=t-t%xe-(t<0?xe:0),Object.assign(x.value,{year:t,month:r,day:1,dateHash:v})}))}function Ht(t,r,u){const v=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;S=v;const{reason:_,details:Y}=Ot(r,u);o("update:modelValue",v,_,Y)}function Ze(t){const r=M.value[0]!==void 0&&M.value[0].dateHash!==null?{...M.value[0]}:{...x.value};Dt(()=>{r.year=x.value.year,r.month=x.value.month;const u=e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():nt(r.year,r.month);r.day=Math.min(Math.max(1,r.day),u);const v=Te(r);S=v;const{details:_}=Ot("",r);o("update:modelValue",v,t,_)})}function Ot(t,r){return r.from!==void 0?{reason:`${t}-range`,details:{...be(r.target),from:be(r.from),to:be(r.to)}}:{reason:`${t}-day`,details:be(r)}}function Te(t,r,u){return t.from!==void 0?{from:pe.value(t.from,r,u),to:pe.value(t.to,r,u)}:pe.value(t,r,u)}function ht(t){let r;if(e.multiple===!0)if(t.from!==void 0){const u=ve(t.from),v=ve(t.to),_=M.value.filter(b=>b.dateHash<u||b.dateHash>v),Y=J.value.filter(({from:b,to:k})=>k.dateHash<u||b.dateHash>v);r=_.concat(Y).concat(t).map(b=>Te(b))}else{const u=de.value.slice();u.push(Te(t)),r=u}else r=Te(t);Ht(r,"add",t)}function _t(t){if(e.noUnset===!0)return;let r=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const u=Te(t);t.from!==void 0?r=e.modelValue.filter(v=>v.from!==void 0?v.from!==u.from&&v.to!==u.to:!0):r=e.modelValue.filter(v=>v!==u),r.length===0&&(r=null)}Ht(r,"remove",t)}function Lt(t,r,u){const v=M.value.concat(J.value).map(_=>Te(_,t,r)).filter(_=>_.from!==void 0?_.from.dateHash!==null&&_.to.dateHash!==null:_.dateHash!==null);o("update:modelValue",(e.multiple===!0?v:v[0])||null,u)}function Va(){if(e.minimal!==!0)return p("div",{class:"q-date__header "+g.value},[p("div",{class:"relative-position"},[p(Ve,{name:"q-transition--fade"},()=>p("div",{key:"h-yr-"+wt.value,class:"q-date__header-subtitle q-date__header-link "+($.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:l.value,...m("vY",{onClick(){$.value="Years"},onKeyup(t){t.keyCode===13&&($.value="Years")}})},[wt.value]))]),p("div",{class:"q-date__header-title relative-position flex no-wrap"},[p("div",{class:"relative-position col"},[p(Ve,{name:"q-transition--fade"},()=>p("div",{key:"h-sub"+Ct.value,class:"q-date__header-title-label q-date__header-link "+($.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:l.value,...m("vC",{onClick(){$.value="Calendar"},onKeyup(t){t.keyCode===13&&($.value="Calendar")}})},[Ct.value]))]),e.todayBtn===!0?p(C,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:l.value,onClick:At}):null])])}function gt({label:t,type:r,key:u,dir:v,goTo:_,boundaries:Y,cls:b}){return[p("div",{class:"row items-center q-date__arrow"},[p(C,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ge.value[0],tabindex:l.value,disable:Y.prev===!1,...m("go-#"+r,{onClick(){_(-1)}})})]),p("div",{class:"relative-position overflow-hidden flex flex-center"+b},[p(Ve,{name:"q-transition--jump-"+v},()=>p("div",{key:u},[p(C,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:l.value,...m("view#"+r,{onClick:()=>{$.value=r}})})]))]),p("div",{class:"row items-center q-date__arrow"},[p(C,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ge.value[1],tabindex:l.value,disable:Y.next===!1,...m("go+#"+r,{onClick(){_(1)}})})])]}const Ia={Calendar:()=>[p("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[p("div",{class:"q-date__navigation row items-center no-wrap"},gt({label:V.value.months[x.value.month-1],type:"Months",key:x.value.month,dir:z.value,goTo:Pt,boundaries:ct.value.month,cls:" col"}).concat(gt({label:x.value.year,type:"Years",key:x.value.year,dir:te.value,goTo:vt,boundaries:ct.value.year,cls:""}))),p("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ba.value.map(t=>p("div",{class:"q-date__calendar-item"},[p("div",t)]))),p("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[p(Ve,{name:"q-transition--slide-"+z.value},()=>p("div",{key:ie.value,class:"q-date__calendar-days fit"},Rt.value.map(t=>p("div",{class:t.classes},[t.in===!0?p(C,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:l.value,...m("day#"+t.i,{onClick:()=>{Ra(t.i)},onMouseover:()=>{Aa(t.i)}})},t.event!==!1?()=>p("div",{class:"q-date__event bg-"+t.event}):null):p("div",""+t.i)]))))])])],Months(){const t=x.value.year===H.value.year,r=v=>se.value!==null&&x.value.year===se.value.year&&se.value.month>v||re.value!==null&&x.value.year===re.value.year&&re.value.month<v,u=V.value.monthsShort.map((v,_)=>{const Y=x.value.month===_+1;return p("div",{class:"q-date__months-item flex flex-center"},[p(C,{class:t===!0&&H.value.month===_+1?"q-date__today":null,flat:Y!==!0,label:v,unelevated:Y,color:Y===!0?E.value:null,textColor:Y===!0?R.value:null,tabindex:l.value,disable:r(_+1),...m("month#"+_,{onClick:()=>{Ca(_+1)}})})])});return e.yearsInMonthView===!0&&u.unshift(p("div",{class:"row no-wrap full-width"},[gt({label:x.value.year,type:"Years",key:x.value.year,dir:te.value,goTo:vt,boundaries:ct.value.year,cls:" col"})])),p("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},u)},Years(){const t=Z.value,r=t+xe,u=[],v=_=>se.value!==null&&se.value.year>_||re.value!==null&&re.value.year<_;for(let _=t;_<=r;_++){const Y=x.value.year===_;u.push(p("div",{class:"q-date__years-item flex flex-center"},[p(C,{key:"yr"+_,class:H.value.year===_?"q-date__today":null,flat:!Y,label:_,dense:!0,unelevated:Y,color:Y===!0?E.value:null,textColor:Y===!0?R.value:null,tabindex:l.value,disable:v(_),...m("yr#"+_,{onClick:()=>{ka(_)}})})]))}return p("div",{class:"q-date__view q-date__years flex flex-center"},[p("div",{class:"col-auto"},[p(C,{round:!0,dense:!0,flat:!0,icon:Ge.value[0],tabindex:l.value,disable:v(t),...m("y-",{onClick:()=>{Z.value-=xe}})})]),p("div",{class:"q-date__years-content col self-stretch row items-center"},u),p("div",{class:"col-auto"},[p(C,{round:!0,dense:!0,flat:!0,icon:Ge.value[1],tabindex:l.value,disable:v(r),...m("y+",{onClick:()=>{Z.value+=xe}})})])])}};function Ra(t){const r={...x.value,day:t};if(e.range===!1){wa(r,ie.value);return}if(K.value===null){const u=Rt.value.find(_=>_.fill!==!0&&_.i===t);if(e.noUnset!==!0&&u.range!==void 0){_t({target:r,from:u.range.from,to:u.range.to});return}if(u.selected===!0){_t(r);return}const v=ve(r);K.value={init:r,initHash:v,final:r,finalHash:v},o("rangeStart",be(r))}else{const u=K.value.initHash,v=ve(r),_=u<=v?{from:K.value.init,to:r}:{from:r,to:K.value.init};K.value=null,ht(u===v?r:{target:r,..._}),o("rangeEnd",{from:be(_.from),to:be(_.to)})}}function Aa(t){if(K.value!==null){const r={...x.value,day:t};Object.assign(K.value,{final:r,finalHash:ve(r)})}}return Object.assign(i,{setToday:At,setView:Ea,offsetCalendar:Ma,setCalendarTo:mt,setEditingRange:Ta}),()=>{const t=[p("div",{class:"q-date__content col relative-position"},[p(Ve,{name:"q-transition--fade"},Ia[$.value])])],r=ut(a.default);return r!==void 0&&t.push(p("div",{class:"q-date__actions"},r)),e.name!==void 0&&e.disable!==!0&&P(t,"push"),p("div",{class:Ee.value,...Da.value},[Va(),p("div",{ref:j,class:"q-date__main col column",tabindex:-1},t)])}}}),sa=Ae({name:"QPopupProxy",props:{...ds,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:i}){const{proxy:n}=Ye(),{$q:s}=n,m=X(!1),l=X(null),g=y(()=>parseInt(e.breakpoint,10)),{canShow:T}=cs({showing:m});function f(){return s.screen.width<g.value||s.screen.height<g.value?"dialog":"menu"}const S=X(f()),w=y(()=>S.value==="menu"?{maxHeight:"99vh"}:{});qe(()=>f(),q=>{m.value!==!0&&(S.value=q)});function P(q){m.value=!0,o("show",q)}function j(q){m.value=!1,S.value=f(),o("hide",q)}return Object.assign(n,{show(q){T(q)===!0&&l.value.show(q)},hide(q){l.value.hide(q)},toggle(q){l.value.toggle(q)}}),ra(n,"currentComponent",()=>({type:S.value,ref:l.value})),()=>{const q={ref:l,...w.value,...i,onShow:P,onHide:j};let V;return S.value==="dialog"?V=it:(V=ms,Object.assign(q,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),p(V,q,a.default)}}});const tr={data(){return{modal:!1}},methods:{deleteUser(){ne.deleteUser(this.targetUser.id).then(e=>{this.$router.push("/admin/users/user")})}},computed:{...dt("user",["targetUser","targetUserVoStatus"])}},ar=c("div",{class:"text-h6"},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",-1);function sr(e,a,o,i,n,s){return U(),G(Re,null,[this.targetUserVoStatus==="REGISTRED_LIKE_USER"||this.targetUserVoStatus==="UNREGISTERED"?(U(),N(C,{key:0,color:"negative",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",onClick:a[0]||(a[0]=m=>this.modal=!0)})):B("",!0),d(it,{modelValue:n.modal,"onUpdate:modelValue":a[1]||(a[1]=m=>n.modal=m)},{default:h(()=>[d(De,null,{default:h(()=>[d(le,null,{default:h(()=>[ar]),_:1}),d(le,{class:"q-pt-none"},{default:h(()=>[W(' \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043F\u043E\u0434 \u0438\u043C\u0435\u043D\u0435\u043C: "'+O(`${this.targetUser.family} ${this.targetUser.name} ${this.targetUser.middle_name}`)+'"? \u041F\u043E\u0441\u043B\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u0432\u0441\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0441\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u043C \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B! ',1)]),_:1}),d(rt,{align:"right"},{default:h(()=>[d(C,{flat:"",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",color:"negative",onClick:s.deleteUser},null,8,["onClick"]),Se(d(C,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",color:"primary"},null,512),[[Ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var rr=Fe(tr,[["render",sr]]);const nr={data(){return{modal:!1,user:null,form_data:{},form_state:{email_editing:!1,prefix_editing:!1,has_changes:!1,loading:!1,personally_modal:!1},employee_position_crm_id:null,positions:[],fired_date:null,position_date:null,position_category:null}},components:{DeleteUserBtn:rr},methods:{...Et("user",["targetUserSet","targetUserSetMeta","positionsLoad"]),checkUserInVo(){ne.vo.findUserByPhone(this.targetUser.phone).then(e=>{e.data.status==="error"?ne.updateUserMeta(this.targetUser.id,{vo_status:"UNREGISTERED"}).then(a=>{this.targetUserSetMeta(JSON.parse(a.data.meta))}):e.data.status==="success"&&ne.updateUserMeta(this.targetUser.id,{vo_status:"REGISTRED_LIKE_MANAGER",vo_id:e.data.response.ID}).then(a=>{this.targetUserSetMeta(JSON.parse(a.data.meta))})})},registrationUserInVo(){let e={phone:this.targetUser.phone,first_name:this.targetUser.name,last_name:this.targetUser.family,middle_name:this.targetUser.middle_name,password:this.targetUser.meta.password};ne.vo.registrationUser(e).then(a=>{a.data.status==="success"&&ne.updateUserMeta(this.targetUser.id,{vo_status:"REGISTRED_LIKE_MANAGER",vo_id:a.data.response.user_id}).then(o=>{this.targetUserSetMeta(JSON.parse(o.data.meta))})})},managerToUser(){ne.vo.managerToUser(this.targetUser.meta.vo_id).then(e=>{e.data.status==="success"&&ne.updateUserMeta(this.targetUser.id,{vo_status:"REGISTRED_LIKE_USER"}).then(a=>{this.targetUserSetMeta(JSON.parse(a.data.meta)),this.modal=!1})})},userToManager(){ne.vo.userToManager(this.targetUser.meta.vo_id).then(e=>{e.data.status==="success"&&ne.updateUserMeta(this.targetUser.id,{vo_status:"REGISTRED_LIKE_MANAGER",vo_id:e.data.response.user_id}).then(a=>{this.targetUserSetMeta(JSON.parse(a.data.meta)),this.modal=!1})})},deleteUser(){ne.vo.deleteUser(this.targetUser.meta.vo_id).then(e=>{e.data.status==="success"&&ne.updateUserMeta(this.targetUser.id,{vo_status:"DELETED"}).then(a=>{this.targetUserSetMeta(JSON.parse(a.data.meta))})})},updateCategory(){this.targetUser.email==null||this.targetUser.email_prefix==null||this.targetUser.position_crm_id==null?He.create({type:"negative",message:"\u041D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D email \u0438\u043B\u0438 \u043F\u0440\u0435\u0444\u0438\u043A\u0441 \u0438\u043B\u0438 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C."}):this.position_category!==null?ne.updateUserMeta(this.targetUser.id,{position_category:this.position_category,mentor:this.isMentor}).then(e=>{this.$store.commit("user/SET_TARGET_USER",e.data)}):He.create({type:"negative",message:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A\u0430."})},updateUser(){this.form_state.loading=!0,Wa("api/users",{user_id:this.targetUser.id,email:this.email,email_prefix:this.email_prefix}).then(e=>{this.form_state.email_editing=!1,this.form_state.prefix_editing=!1,this.form_state.has_changes=!1,console.log(e)}).finally(()=>{this.form_state.loading=!1})},userToEmployee(){this.targetUser.status!=="EMPLOYEE"&&(!this.targetUser.meta.passport||!this.targetUser.meta.resume)?He.create({type:"negative",message:"\u041A\u0430\u0436\u0435\u0442\u0441\u044F \u043D\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D \u0441\u043A\u0430\u043D \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430 \u0438\u043B\u0438 \u0440\u0435\u0437\u044E\u043C\u0435."}):this.targetUser.email==null||this.targetUser.email_prefix==null?He.create({type:"negative",message:"\u041D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D email \u0438\u043B\u0438 \u043F\u0440\u0435\u0444\u0438\u043A\u0441."}):Xe("api/user-to-employee",{user_id:this.targetUser.id,position_crm_id:this.employee_position_crm_id,position_date:this.position_date}).then(e=>{this.$store.commit("user/SET_TARGET_USER",e.data)})},employeeToFired(){Xe("api/employee-to-fired",{user_id:this.targetUser.id,fired_date:this.fired_date}).then(e=>{this.$store.commit("user/SET_TARGET_USER",e.data),this.targetUser.meta.vo_id&&this.managerToUser()})},updateUserMetaFormData(e){if(this.form_state.loading=!0,e.preventDefault(),!this.targetUser.meta.resume&&this.targetUser.status==="CANDIDATE")He.create({type:"negative",message:"\u0414\u043B\u044F \u043D\u0430\u0447\u0430\u043B\u0430, \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0440\u0435\u0437\u044E\u043C\u0435."}),this.form_state.personally_modal=!1,this.form_state.loading=!1;else{let a=e.target,o=new FormData(a);ne.updateUserMetaFormData(this.targetUser.id,o).then(i=>{this.$store.commit("user/SET_TARGET_USER",i.data)}).finally(()=>{this.form_state.personally_modal=!1,this.form_state.loading=!1})}},deleteUserMetaReserve(){this.form_state.loading=!0,xt(`api/user-meta-reserve/${this.targetUser.id}`).then(e=>{this.$store.commit("user/SET_TARGET_USER",e.data)}).finally(()=>{this.form_state.loading=!1})},resumeUpload(e){this.form_state.loading=!0,e.preventDefault();let a=e.target,o=new FormData(a);Xe("api/user-resume-upload",o).then(i=>{this.$store.commit("user/SET_TARGET_USER",i.data)}).finally(()=>{this.form_state.loading=!1})},resumeDelete(){this.form_state.loading=!0,xt(`api/user-resume-delete/${this.targetUser.id}`).then(e=>{this.$store.commit("user/SET_TARGET_USER",e.data)}).finally(()=>{this.form_state.loading=!1})},passportUpload(e){this.form_state.loading=!0,e.preventDefault();let a=e.target,o=new FormData(a);Xe("api/user-passport-upload",o).then(i=>{this.$store.commit("user/SET_TARGET_USER",i.data)}).finally(()=>{this.form_state.loading=!1})},passportDelete(){this.form_state.loading=!0,xt(`api/user-passport-delete/${this.targetUser.id}`).then(e=>{this.$store.commit("user/SET_TARGET_USER",e.data)}).finally(()=>{this.form_state.loading=!1})},docLink(e){return typeof e!="undefined"?"https://docs.google.com/gview?url="+e+"&embedded=true":""}},computed:{...dt("user",["getUser","targetUser","isLeader","targetUserVoStatus","getToken"]),email:{get(){return this.$store.state.user.targetUser.email},set(e){this.$store.commit("user/SET_TARGET_USER_EMAIL",e)}},email_prefix:{get(){return this.$store.state.user.targetUser.email_prefix},set(e){this.$store.commit("user/SET_TARGET_USER_EMAIL_PREFIX",e)}},userRegistred:{get(){return ot.dateFormat(this.user.created_at)}},targetUser:{get(){return this.$store.state.user.targetUser}},isMentor:{get(){return typeof this.$store.state.user.targetUser.meta.mentor!="undefined"?Boolean(this.$store.state.user.targetUser.meta.mentor):Boolean(this.$store.state.user.targetUser.meta.mentor)},set(e){this.$store.commit("user/SET_TARGET_USER_META_INNER",{key:"mentor",value:e})}},statusInterpreter(){switch(this.targetUserVoStatus){case"UNREGISTERED":return{message:"\u041D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D",color:"negative"};case"REGISTRED_LIKE_MANAGER":return{message:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D",color:"positive"};case"DELETED":return{message:"\u0423\u0434\u0430\u043B\u0435\u043D",color:"negative"};case"REGISTRED_LIKE_USER":return{message:"\u0417\u0430\u0440\u0435\u0433. \u043A\u0430\u043A \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C",color:"warning"};default:return{message:"\u041D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0451\u043D",color:"warning"}}},phoneFormat(){return ot.phoneFormat(this.user.phone)},emailFormat(){return this.user.email!=null?this.user.email:"Email \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D"},hasResume(){return typeof this.targetUser.meta.resume!="undefined"},reservePositionName(){return typeof this.targetUser.meta.reserve_position_crm_id!="undefined"&&this.positions.length>0?`(${this.positions.find(e=>e.value==this.targetUser.meta.reserve_position_crm_id).label})`:null}},async mounted(){this.user===null&&(this.user=this.targetUser),this.positionsLoad().then(e=>{e.data.forEach(o=>{let i={label:o.name,value:o.crm_id};this.positions.push(i)})}).catch(e=>{console.log(e)})}},lr={key:0},or=c("div",{class:"text-h6 q-mb-lg"},"\u041E\u0441\u043D\u043E\u0432\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",-1),ir={class:"row q-col-gutter-md"},ur={class:"col-4"},dr={class:"user-info__item q-px-md q-py-sm rounded-borders"},cr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",-1),mr={class:"text-1 text--style-3",style:{padding:"12px 0"}},fr={class:"col-4"},vr={class:"user-info__item q-px-md q-py-sm rounded-borders"},hr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u041D\u043E\u043C\u0435\u0440:",-1),_r={class:"text-1 text--style-3",style:{padding:"12px 0"}},gr={class:"col-4"},pr={class:"user-info__item q-px-md q-py-sm rounded-borders"},yr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C:",-1),br={key:0,class:"text-1 text--style-3",style:{padding:"12px 0"}},xr={key:1,class:"text-1 text--style-3",style:{padding:"12px 0"}},Sr={key:0,class:"col-4"},Ur={class:"user-info__item q-px-md q-py-sm rounded-borders"},qr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C \u0440\u0435\u0437\u0435\u0440\u0432\u0430:",-1),Dr={class:"text-1 text--style-3",style:{padding:"12px 0"}},Er={class:"col-4"},Mr={class:"user-info__item q-px-md q-py-sm rounded-borders"},Tr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0414\u0435\u043F\u0430\u0440\u0442\u0430\u043C\u0435\u043D\u0442:",-1),kr={class:"text-1 text--style-3",style:{padding:"12px 0"}},Cr={class:"col-4"},wr={class:"user-info__item q-px-md q-py-sm rounded-borders"},Vr={class:"row items-center title-1 title--style-2 q-mb-xs"},Ir={class:"text-1 text--style-3 q-mb-xs"},Rr={class:"col-4"},Ar={class:"user-info__item q-px-md q-py-sm rounded-borders"},Yr={class:"title-1 title--style-2 q-mb-xs"},Fr={key:1,class:"col-4"},Nr={class:"user-info__item q-px-md q-py-sm rounded-borders"},Pr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0414\u0430\u0442\u0430 \u0443\u0432\u043E\u043B\u044C\u043D\u0435\u043D\u0438\u044F:",-1),Hr={class:"text-1 text--style-3",style:{padding:"12px 0"}},Or={class:"col-4"},Lr={class:"user-info__item q-px-md q-py-sm rounded-borders"},Qr=c("p",{class:"title-1 title--style-2 q-mb-xs"}," \u0414\u0430\u0442\u0430 \u0432\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u0432 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C: ",-1),jr={key:0,class:"text-1 text--style-3",style:{padding:"12px 0"}},Br={key:2,class:"col-4"},Gr={class:"user-info__item q-px-md q-py-sm rounded-borders"},zr=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0421\u0442\u0435\u043F\u0435\u043D\u044C \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A\u0430:",-1),Zr={class:"text-1 text--style-3 q-mb-xs",style:{padding:"12px 0"}},$r={class:"q-my-lg"},Kr=c("div",{class:"text-h6 q-mb-lg q-mt-lg"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F",-1),Jr={class:"row q-col-gutter-lg"},Xr={key:0,class:"col-6"},Wr={class:"user-info__item q-px-md q-py-sm rounded-borders"},en=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0420\u0435\u0437\u044E\u043C\u0435",-1),tn={class:"q-gutter-md q-my-md"},an={class:"col-6"},sn={class:"user-info__item q-px-md q-py-sm rounded-borders"},rn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0440\u0435\u0437\u044E\u043C\u0435",-1),nn={class:"q-gutter-md q-my-md"},ln=["value"],on={key:1,class:"col-6"},un={class:"user-info__item q-px-md q-py-sm rounded-borders"},dn={class:"title-1 title--style-2 q-mb-xs"},cn={class:"q-gutter-md q-my-md"},mn={key:2,class:"col-6"},fn={class:"user-info__item q-px-md q-py-sm rounded-borders"},vn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0412\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",-1),hn={class:"q-gutter-md q-my-md"},_n={class:"row items-center justify-end"},gn={key:3,class:"col-6"},pn={class:"user-info__item q-px-md q-py-sm rounded-borders"},yn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0423\u0432\u043E\u043B\u044C\u043D\u0435\u043D\u0438\u0435 \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A\u0430",-1),bn={class:"q-gutter-md q-my-md"},xn={class:"",style:{"max-width":"300px"}},Sn={class:"row items-center justify-end"},Un={key:4,class:"col-6"},qn={class:"user-info__item q-px-md q-py-sm rounded-borders"},Dn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0441\u043A\u0430\u043D \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430",-1),En={class:"q-gutter-md q-my-md"},Mn=["value"],Tn={key:5,class:"col-6"},kn={class:"user-info__item q-px-md q-py-sm rounded-borders"},Cn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u041F\u0430\u0441\u043F\u043E\u0440\u0442",-1),wn={class:"q-gutter-md q-my-md"},Vn={key:6,class:"col-6"},In={class:"user-info__item q-px-md q-py-sm rounded-borders"},Rn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0421\u043C\u0435\u043D\u0430 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u0438",-1),An={class:"q-gutter-md q-my-md"},Yn={class:"col-6"},Fn={class:"user-info__item q-px-md q-py-sm rounded-borders"},Nn=c("p",{class:"title-1 title--style-2 q-mb-xs"},"\u0421\u043C\u0435\u043D\u0430 \u0441\u0442\u0435\u043F\u0435\u043D\u0438",-1),Pn={class:"q-gutter-md q-my-md"},Hn=c("div",{class:"text-h6"},"\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432 \u043A\u0430\u0434\u0440\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0435\u0440\u0432",-1),On=["value"],Ln={class:"q-my-md"},Qn={key:0,class:"q-my-md"},jn=c("div",{class:"text-h6 q-mb-lg q-mt-lg"},"\u0412\u0438\u0440\u0442\u0443\u0430\u043B\u044C\u043D\u044B\u0439 \u043E\u0444\u0438\u0441",-1),Bn={class:"row q-col-gutter-md justify-between"},Gn={class:"col-6"},zn={class:"user-info__item q-px-md q-py-sm rounded-borders"},Zn={class:"title-1 title--style-2 p-relative q-mb-xs"},$n={key:0,class:"col-6"},Kn={class:"user-info__item q-px-md q-py-sm rounded-borders"},Jn=c("p",{class:"title-1 title--style-2 p-relative q-mb-xs"}," \u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F ",-1),Xn=c("div",{class:"text-h6"},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",-1);function Wn(e,a,o,i,n,s){const m=Le("DeleteUserBtn");return n.user!==null?(U(),G("div",lr,[or,c("div",ir,[c("div",ur,[c("div",dr,[cr,c("p",mr,O(s.userRegistred),1)])]),c("div",fr,[c("div",vr,[hr,c("p",_r,O(s.phoneFormat),1)])]),c("div",gr,[c("div",pr,[yr,s.targetUser.status=="RESERVE"?(U(),G("p",br,O(s.targetUser.meta.reserve_position_name),1)):(U(),G("p",xr,O(s.targetUser.position_name),1))])]),s.targetUser.status=="INTERNAL_RESERVE"?(U(),G("div",Sr,[c("div",Ur,[qr,c("p",Dr,O(s.targetUser.meta.reserve_position_name),1)])])):B("",!0),c("div",Er,[c("div",Mr,[Tr,c("p",kr,O(s.targetUser.department),1)])]),c("div",Cr,[c("div",wr,[c("p",Vr,[W(" Email: "),d(Ke,{class:"q-ml-md pointer",name:"edit",onClick:a[0]||(a[0]=l=>n.form_state.email_editing=n.form_state.email_editing===!1)})]),c("div",Ir,[d(We,{modelValue:s.email,"onUpdate:modelValue":a[1]||(a[1]=l=>s.email=l),type:"text",label:"Email",disable:!n.form_state.email_editing},null,8,["modelValue","disable"])])])]),c("div",Rr,[c("div",Ar,[c("p",Yr,[W(" \u041F\u0440\u0435\u0444\u0438\u043A\u0441: "),d(Ke,{class:"q-ml-md pointer",name:"edit",onClick:a[2]||(a[2]=l=>n.form_state.prefix_editing=n.form_state.prefix_editing===!1)})]),d(We,{modelValue:s.email_prefix,"onUpdate:modelValue":a[3]||(a[3]=l=>s.email_prefix=l),type:"text",label:"\u041F\u0440\u0435\u0444\u0438\u043A\u0441",disable:!n.form_state.prefix_editing},null,8,["modelValue","disable"])])]),s.targetUser.meta.fired_date&&s.targetUser.status==="FIRED"?(U(),G("div",Fr,[c("div",Nr,[Pr,c("p",Hr,O(s.targetUser.meta.fired_date),1)])])):B("",!0),c("div",Or,[c("div",Lr,[Qr,s.targetUser.meta.position_date?(U(),G("p",jr,O(s.targetUser.meta.position_date),1)):B("",!0)])]),s.targetUser.meta.position_category?(U(),G("div",Br,[c("div",Gr,[s.targetUser.meta.mentor?(U(),N(Be,{key:0,color:"positive"},{default:h(()=>[W("\u041D\u0430\u0441\u0442\u0430\u0432\u043D\u0438\u043A")]),_:1})):B("",!0),zr,c("p",Zr,O(s.targetUser.meta.position_category),1)])])):B("",!0)]),c("div",$r,[d(C,{color:"primary",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C","no-caps":"",onClick:s.updateUser,disable:!n.form_state.prefix_editing&&!n.form_state.email_editing},null,8,["onClick","disable"])]),Kr,c("div",Jr,[s.hasResume?(U(),G("div",Xr,[c("div",Wr,[en,c("div",tn,[d(C,{target:"_blank",type:"a",color:"primary","no-caps":"",label:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0440\u0435\u0437\u044E\u043C\u0435",href:s.docLink(this.targetUser.meta.resume)},null,8,["href"]),d(C,{target:"_blank",type:"a",color:"warning","no-caps":"",label:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0440\u0435\u0437\u044E\u043C\u0435",href:this.targetUser.meta.resume},null,8,["href"]),d(C,{color:"negative",onClick:s.resumeDelete,target:"_blank",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0440\u0435\u0437\u044E\u043C\u0435","no-caps":"",loading:n.form_state.loading},null,8,["onClick","loading"])])])])):B("",!0),c("div",an,[c("div",sn,[rn,c("div",nn,[d(St,{onSubmit:s.resumeUpload,class:"q-gutter-md"},{default:h(()=>[c("input",{type:"hidden",name:"user_id",value:this.targetUser.id},null,8,ln),d(Zt,{modelValue:n.form_data.resume,"onUpdate:modelValue":a[4]||(a[4]=l=>n.form_data.resume=l),name:"resume",label:"\u0420\u0435\u0437\u044E\u043C\u0435",rules:[l=>l||"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u043F\u043E\u043B\u0435"]},null,8,["modelValue","rules"]),d(C,{color:"primary",type:"submit",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",loading:n.form_state.loading,"no-caps":""},null,8,["loading"])]),_:1},8,["onSubmit"])])])]),this.targetUser.status!=="FIRED"?(U(),G("div",on,[c("div",un,[c("p",dn," \u041A\u0430\u0434\u0440\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0435\u0440\u0432 "+O(s.reservePositionName),1),c("div",cn,[s.targetUser.meta.reserve_position_crm_id?B("",!0):(U(),N(C,{key:0,color:"primary",label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u0430\u0434\u0440\u043E\u0432\u044B\u0439 \u0440\u0435\u0437\u0435\u0440\u0432","no-caps":"",onClick:a[5]||(a[5]=l=>n.form_state.personally_modal=!n.form_state.personally_modal)})),s.targetUser.meta.reserve_position_crm_id?(U(),N(C,{key:1,color:"warning","no-caps":"",label:"\u0423\u0431\u0440\u0430\u0442\u044C \u0441 \u043A\u0430\u0434\u0440\u043E\u0432\u043E\u0433\u043E \u0440\u0435\u0437\u0435\u0440\u0432\u0430",onClick:s.deleteUserMetaReserve,loading:this.form_state.loading},null,8,["onClick","loading"])):B("",!0)])])])):B("",!0),this.targetUser.status!=="EMPLOYEE"&&this.targetUser.status!=="INTERNAL_RESERVE"?(U(),G("div",mn,[c("div",fn,[vn,c("div",hn,[d(Oe,{"emit-value":"",modelValue:n.employee_position_crm_id,"onUpdate:modelValue":a[6]||(a[6]=l=>n.employee_position_crm_id=l),options:this.positions,label:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C"},null,8,["modelValue","options"]),d(C,{color:"primary","no-caps":"",label:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0432 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",onClick:s.userToEmployee},null,8,["onClick"])]),d(We,{filled:"",modelValue:n.position_date,"onUpdate:modelValue":a[8]||(a[8]=l=>n.position_date=l),mask:"date",rules:["date"],label:"\u0414\u0430\u0442\u0430 \u0432\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u0432 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C"},{append:h(()=>[d(Ke,{name:"event",class:"cursor-pointer"},{default:h(()=>[d(sa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:h(()=>[d(aa,{modelValue:n.position_date,"onUpdate:modelValue":a[7]||(a[7]=l=>n.position_date=l)},{default:h(()=>[c("div",_n,[Se(d(C,{label:"Close",color:"primary",flat:""},null,512),[[Ue]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])):B("",!0),this.targetUser.status==="EMPLOYEE"||this.targetUser.status==="INTERNAL_RESERVE"?(U(),G("div",gn,[c("div",pn,[yn,c("div",bn,[d(C,{color:"negative","no-caps":"",label:"\u0423\u0432\u043E\u043B\u0438\u0442\u044C \u0441\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A\u0430",onClick:s.employeeToFired},null,8,["onClick"]),c("div",xn,[d(We,{filled:"",modelValue:n.fired_date,"onUpdate:modelValue":a[10]||(a[10]=l=>n.fired_date=l),mask:"date",rules:["date"],label:"\u0414\u0430\u0442\u0430 \u0443\u0432\u043E\u043B\u044C\u043D\u0435\u043D\u0438\u044F"},{append:h(()=>[d(Ke,{name:"event",class:"cursor-pointer"},{default:h(()=>[d(sa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:h(()=>[d(aa,{modelValue:n.fired_date,"onUpdate:modelValue":a[9]||(a[9]=l=>n.fired_date=l)},{default:h(()=>[c("div",Sn,[Se(d(C,{label:"Close",color:"primary",flat:""},null,512),[[Ue]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])])):B("",!0),typeof this.targetUser.meta.passport=="undefined"?(U(),G("div",Un,[c("div",qn,[Dn,c("div",En,[d(St,{onSubmit:s.passportUpload,class:"q-gutter-md"},{default:h(()=>[c("input",{type:"hidden",name:"user_id",value:this.targetUser.id},null,8,Mn),d(Zt,{modelValue:n.form_data.passport,"onUpdate:modelValue":a[11]||(a[11]=l=>n.form_data.passport=l),name:"passport",label:"\u041F\u0430\u0441\u043F\u043E\u0440\u0442",rules:[l=>l||"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u043F\u043E\u043B\u0435"]},null,8,["modelValue","rules"]),d(C,{color:"primary",type:"submit",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",loading:n.form_state.loading,"no-caps":""},null,8,["loading"])]),_:1},8,["onSubmit"])])])])):typeof this.targetUser.meta.passport!="undefined"?(U(),G("div",Tn,[c("div",kn,[Cn,c("div",wn,[d(C,{target:"_blank",type:"a",color:"primary","no-caps":"",label:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C",href:s.docLink(this.targetUser.meta.passport)},null,8,["href"]),d(C,{target:"_blank",type:"a",color:"warning","no-caps":"",label:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C",href:this.targetUser.meta.passport},null,8,["href"]),d(C,{color:"negative",onClick:s.passportDelete,target:"_blank",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C","no-caps":"",loading:n.form_state.loading},null,8,["onClick","loading"])])])])):B("",!0),this.targetUser.status==="EMPLOYEE"||this.targetUser.status==="INTERNAL_RESERVE"?(U(),G("div",Vn,[c("div",In,[Rn,c("div",An,[d(Oe,{"emit-value":"",modelValue:n.employee_position_crm_id,"onUpdate:modelValue":a[12]||(a[12]=l=>n.employee_position_crm_id=l),options:this.positions,label:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C"},null,8,["modelValue","options"]),d(C,{color:"primary","no-caps":"",label:"\u0421\u043C\u0435\u043D\u0438\u0442\u044C \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",onClick:s.userToEmployee},null,8,["onClick"])])])])):B("",!0),c("div",Yn,[c("div",Fn,[Nn,c("div",Pn,[d(Oe,{"emit-value":"",modelValue:n.position_category,"onUpdate:modelValue":a[13]||(a[13]=l=>n.position_category=l),options:[1,2,3,4],label:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"},null,8,["modelValue"]),d(oa,{"left-label":"",label:"\u041D\u0430\u0441\u0442\u0430\u0432\u043D\u0438\u043A",modelValue:s.isMentor,"onUpdate:modelValue":a[14]||(a[14]=l=>s.isMentor=l)},null,8,["modelValue"]),d(C,{color:"primary","no-caps":"",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:s.updateCategory},null,8,["onClick"])])])])]),d(it,{modelValue:n.form_state.personally_modal,"onUpdate:modelValue":a[17]||(a[17]=l=>n.form_state.personally_modal=l)},{default:h(()=>[d(De,null,{default:h(()=>[d(le,null,{default:h(()=>[Hn]),_:1}),d(le,{class:"q-pt-none"},{default:h(()=>[d(St,{class:"q-gutter-md",style:{"min-width":"500px"},onSubmit:s.updateUserMetaFormData},{default:h(()=>[c("input",{type:"hidden",name:"user_id",value:this.targetUser.id},null,8,On),c("div",Ln,[d(Oe,{modelValue:n.form_data.reserve_position_crm_id,"onUpdate:modelValue":a[15]||(a[15]=l=>n.form_data.reserve_position_crm_id=l),"emit-value":"",options:this.positions,name:"reserve_position_crm_id",label:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",rules:[l=>l||"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u043F\u043E\u043B\u0435"]},null,8,["modelValue","options","rules"])]),s.targetUser.status==="CANDIDATE"?(U(),G("div",Qn,[d(Oe,{modelValue:n.form_data.reserve_prioricy,"onUpdate:modelValue":a[16]||(a[16]=l=>n.form_data.reserve_prioricy=l),name:"reserve_prioricy",options:[1,2,3],label:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442",rules:[l=>l||"\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u043F\u043E\u043B\u0435"]},null,8,["modelValue","rules"])])):B("",!0),d(rt,{align:"right"},{default:h(()=>[d(C,{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",type:"submit",color:"primary",loading:this.form_state.loading},null,8,["loading"]),Se(d(C,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",color:"primary"},null,512),[[Ue]])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),jn,c("div",Bn,[c("div",Gn,[c("div",zn,[c("p",Zn,[W(" \u0421\u0442\u0430\u0442\u0443\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0432 \u0412\u041E: "),d(Be,{color:s.statusInterpreter.color,floating:"",transparent:""},{default:h(()=>[W(O(s.statusInterpreter.message),1)]),_:1},8,["color"])]),this.targetUserVoStatus==="UNDEFINED"?(U(),N(C,{key:0,class:"q-mt-md q-mb-md",color:"primary",label:"\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",onClick:s.checkUserInVo},null,8,["onClick"])):this.targetUserVoStatus==="UNREGISTERED"?(U(),N(C,{key:1,class:"q-mt-md q-mb-md",color:"primary",label:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0432 \u0412\u041E",onClick:s.registrationUserInVo},null,8,["onClick"])):this.targetUserVoStatus==="REGISTRED_LIKE_MANAGER"?(U(),N(C,{key:2,class:"q-mt-md q-mb-md",color:"primary",label:"\u041F\u0435\u0440\u0432\u0435\u0441\u0442\u0438 \u0432 \u0441\u0442\u0430\u0442\u0443\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",onClick:a[18]||(a[18]=l=>n.modal=!0)})):this.targetUserVoStatus==="REGISTRED_LIKE_USER"?(U(),N(C,{key:3,class:"q-mt-md q-mb-md",label:"\u041F\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0432 \u0441\u0442\u0430\u0442\u0443\u0441 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u0430",color:"primary",onClick:s.userToManager},null,8,["onClick"])):B("",!0)])]),s.targetUser.status==="CANDIDATE"?(U(),G("div",$n,[c("div",Kn,[Jn,d(m)])])):B("",!0)]),d(it,{modelValue:n.modal,"onUpdate:modelValue":a[19]||(a[19]=l=>n.modal=l)},{default:h(()=>[d(De,null,{default:h(()=>[d(le,null,{default:h(()=>[Xn]),_:1}),this.targetUserVoStatus==="UNREGISTERED"?(U(),N(le,{key:0,class:"q-pt-none"},{default:h(()=>[W(' \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043F\u043E\u0434 \u0438\u043C\u0435\u043D\u0435\u043C: "'+O(`${this.targetUser.family} ${this.targetUser.name} ${this.targetUser.middle_name}`)+'" \u043A\u0430\u043A \u043C\u0435\u043D\u0434\u0436\u0435\u0440\u0430 \u0432 \u0432\u0438\u0440\u0442\u0443\u0430\u043B\u044C\u043D\u043E\u043C \u043E\u0444\u0438\u0441\u0435? ',1)]),_:1})):this.targetUserVoStatus==="REGISTRED_LIKE_MANAGER"?(U(),N(le,{key:1,class:"q-pt-none"},{default:h(()=>[W(' \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043F\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u0430 \u043F\u043E\u0434 \u0438\u043C\u0435\u043D\u0435\u043C: "'+O(`${this.targetUser.family} ${this.targetUser.name} ${this.targetUser.middle_name}`)+'" \u0432 \u0441\u0442\u0430\u0442\u0443\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0432 \u0432\u0438\u0440\u0442\u0443\u0430\u043B\u044C\u043D\u043E\u043C \u043E\u0444\u0438\u0441\u0435? ',1)]),_:1})):B("",!0),this.targetUserVoStatus==="UNREGISTERED"?(U(),N(rt,{key:2,align:"right"},{default:h(()=>[Se(d(C,{flat:"",label:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C",color:"primary"},null,512),[[Ue]]),Se(d(C,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",color:"primary"},null,512),[[Ue]])]),_:1})):this.targetUserVoStatus==="REGISTRED_LIKE_MANAGER"?(U(),N(rt,{key:3,align:"right"},{default:h(()=>[d(C,{flat:"",label:"\u041F\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0432 \u0441\u0442\u0430\u0442\u0443\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",color:"primary",onClick:s.managerToUser},null,8,["onClick"]),Se(d(C,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",color:"primary"},null,512),[[Ue]])]),_:1})):B("",!0)]),_:1})]),_:1},8,["modelValue"])])):B("",!0)}var el=Fe(nr,[["render",Wn]]);const tl={methods:{testStatus(e){return lt.testStatus(e)},testResult(e){return lt.testResult(e)}},computed:{...dt("tests",["getTargetUserTests"])}},al={key:0},sl=c("div",{class:"text-h6 q-mb-lg"}," \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432 ",-1),rl={class:"absolute-bottom"},nl={class:"text-subtitle2"},ll={class:"text-h6 q-mt-sm q-mb-xs"},ol=["innerHTML"];function il(e,a,o,i,n,s){return e.getTargetUserTests!==null?(U(),G("div",al,[sl,(U(!0),G(Re,null,je(e.getTargetUserTests,m=>(U(),N(De,{class:"my-card q-mb-md",key:m},{default:h(()=>[d(le,{horizontal:"",class:"row"},{default:h(()=>[d(_s,{class:"col col-sm-3",src:m.image},{default:h(()=>[c("div",rl,[c("div",nl,O(m.name),1)])]),_:2},1032,["src"]),d(le,{class:"col-12 col-sm-9"},{default:h(()=>[d(le,{class:"p-0"},{default:h(()=>[c("div",ll,[W(' \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0442\u0435\u0441\u0442\u0430: "'+O(m.name)+'" ',1),d(Be,{color:s.testStatus(m.status).color,floating:"",transparent:""},{default:h(()=>[W(O(s.testStatus(m.status).message),1)]),_:2},1032,["color"])]),c("div",{class:"text-caption text-grey",innerHTML:s.testResult(m)},null,8,ol)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):B("",!0)}var ul=Fe(tl,[["render",il]]);const dl={data(){return{attestations:null,attestation:null,user:null,tests:null,mapTest:null,archiveTests:null,tab:X("tests")}},components:{TabInfo:el,TabTestsResult:ul,UserInfoSkeleton:Vs,TableInfoSkeleton:As},methods:{...Et("user",["targetUserSet","targetUserUnset","positionsLoad"]),...Et("tests",["userTestUpdate","targetUserTestsInit","targetUserTestsNull"]),testStatus(e){let a={};return e==="PASSED"?(a.message="\u0422\u0435\u0441\u0442 \u043F\u0440\u043E\u0439\u0434\u0435\u043D!",a.color="positive"):e==="FAILED"?(a.message="\u0422\u0435\u0441\u0442 \u043D\u0435 \u043F\u0440\u043E\u0439\u0434\u0435\u043D!",a.color="negative"):(a.message="\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043F\u0440\u043E\u0439\u0442\u0438 \u0442\u0435\u0441\u0442!",a.color="secondary"),a},testResult(e){return lt.testResult(e)},async getUserInfo(){return new Promise((e,a)=>{Je.get(`/api/users/${this.$route.params.id}`).then(o=>{(o.status===200||o.status===201)&&(this.user=o.data,this.targetUserSet(this.user),e(o))}).catch(o=>{a(o)})})},async getUserTests(){return new Promise((e,a)=>{Je.get(`/api/testsMerged/${this.$route.params.id}`).then(o=>{(o.status===200||o.status===201)&&(this.tests=o.data.merged_tests,this.tests.map(i=>{i.test_id=i.id,i.status=lt.testsResultStatus(i)}),this.tests.forEach(i=>{i.id===5&&(this.mapTest=i)}),this.mapTest.value&&(this.mapTest.value=JSON.parse(this.mapTest.value)),this.attestation=o.data.attestation,this.targetUserTestsInit(this.tests),e(o))}).catch(o=>{a(o)})})},async geteArchiveUserTests(e){return new Promise((a,o)=>{Je.get(`/api/attestationsArchiveTests/${e}`).then(i=>{(i.status===200||i.status===201)&&a(i)}).catch(i=>{o(i)})})},async geteUserAttestations(){return new Promise((e,a)=>{Je.get(`/api/usersAttestations/${this.$route.params.id}`).then(o=>{(o.status===200||o.status===201)&&(this.attestations=o.data,e(o))}).catch(o=>{a(o)})})},attestationTests(e){this.attestations&&this.attestations.map((a,o)=>{a.id==e&&!this.attestations[o].tests&&this.geteArchiveUserTests(e).then(i=>{i.data.map((s,m)=>{let l=s.test_id,g;this.tests.forEach(T=>{T.id==l&&(g=T)}),s.name=g.name,s.slug=g.slug}),this.attestations[o].tests=i.data})})},saveMapTest(){this.userTestUpdate(this.mapTest)},dateFormat(e){return ot.dateFormat(e)},attestationPositionName(e){let a=this.$store.state.user.positions.find(o=>o.crm_id==e.position_crm_id);if(typeof a!="undefined")return`(\u043D\u0430 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C: ${a.name})`}},mounted(){this.getUserInfo(),this.getUserTests().then(e=>{this.attestations=this.geteUserAttestations()}),this.user==null&&(this.user=this.getUser),this.$store.state.user.positions||this.positionsLoad()},unmounted(){this.targetUserUnset(),this.targetUserTestsNull()},computed:{...dt("user",["getUser","targetUser","isLeader","targetUserVoStatus"]),firstLetterName(){return this.user!==null?this.user.name.substr(0,1).toUpperCase():""},phoneFormat(){return ot.phoneFormat(this.user.phone)},emailFormat(){return this.targetUser.email!=null?this.targetUser.email:"Email \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D"},attestationStatus(){return this.attestation!==null?this.attestation.status:!1},userMainStatusText(){return this.targetUser!==null?ts(this.user.status):""},userSubStatusText(){return this.targetUser!==null?as(this.user.status):""},userStatusColor(){return this.targetUser!==null?ss(this.user.status):""}}},cl=c("div",{class:"text-h6 q-mb-lg"},' \u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u0437\u0430\u0434\u0430\u043D\u0438\u0439 \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F "\u041A\u0430\u0440\u0442\u0430 \u041A\u0423\u04112\u0411" ',-1),ml={class:"buttons-wrap"},fl=c("div",{class:"text-h6 q-mb-lg"}," \u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u0442\u0435\u0441\u0442\u043E\u0432 ",-1),vl=["innerHTML"];function hl(e,a,o,i,n,s){const m=Le("UserInfoSkeleton"),l=Le("TabInfo"),g=Le("TabTestsResult"),T=Le("TableInfoSkeleton");return n.user==null&&n.tests==null?(U(),N(m,{key:0})):(U(),N(De,{key:1,class:"my-card q-pt-md",flat:"",bordered:""},{default:h(()=>[d(Mt,null,{default:h(()=>[d(_e,{avatar:""},{default:h(()=>[d(Ga,{color:"secondary","text-color":"white"},{default:h(()=>[W(O(s.firstLetterName),1)]),_:1})]),_:1}),d(_e,null,{default:h(()=>[d(Ie,null,{default:h(()=>[W(O(n.user.family+" "+n.user.name+" "+n.user.middle_name),1)]),_:1}),d(Ie,{caption:""},{default:h(()=>[W(O(n.user.role),1)]),_:1})]),_:1}),d(_e,{style:{position:"relative"},side:""},{default:h(()=>[d(Be,{class:"q-mb-sm",color:s.userStatusColor},{default:h(()=>[W(O(s.userMainStatusText),1)]),_:1},8,["color"]),s.userSubStatusText?(U(),N(Be,{key:0,color:s.userStatusColor,outline:""},{default:h(()=>[W(O(s.userSubStatusText),1)]),_:1},8,["color"])):B("",!0)]),_:1})]),_:1}),d(le,null,{default:h(()=>[d(Ka,{modelValue:n.tab,"onUpdate:modelValue":a[0]||(a[0]=f=>n.tab=f),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary","narrow-indicator":""},{default:h(()=>[d(et,{name:"info",label:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F"}),d(et,{name:"tests",label:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F"}),s.attestationStatus!="PASSED"?(U(),N(et,{key:0,name:"test-qb2b-map",label:"\u0422\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u041A\u0430\u0440\u0442\u0430 \u041A\u0423\u04112\u0411"})):B("",!0),d(et,{name:"archive",label:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F"})]),_:1},8,["modelValue"]),d(la),d(Us,{modelValue:n.tab,"onUpdate:modelValue":a[1]||(a[1]=f=>n.tab=f),animated:""},{default:h(()=>[d(tt,{name:"info"},{default:h(()=>[d(l)]),_:1}),d(tt,{name:"tests"},{default:h(()=>[d(g)]),_:1}),d(tt,{name:"test-qb2b-map"},{default:h(()=>[cl,n.mapTest?(U(),N(bt,{key:0},{default:h(()=>[(U(!0),G(Re,null,je(n.mapTest.value.results.tasks,f=>(U(),N(Mt,{tag:"label",key:f},{default:h(()=>[d(_e,{avatar:""},{default:h(()=>[d(oa,{modelValue:f.status,"onUpdate:modelValue":S=>f.status=S,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),d(_e,null,{default:h(()=>[d(Ie,null,{default:h(()=>[W(O(f.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),c("div",ml,[d(C,{color:"primary",icon:"check",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:s.saveMapTest},null,8,["onClick"])])]),_:1})):B("",!0)]),_:1}),d(tt,{name:"archive"},{default:h(()=>[fl,n.attestations===null?(U(),N(bt,{key:0,bordered:"",separator:""},{default:h(()=>[d(T,{rows:6})]),_:1})):(U(),N(bt,{key:1,bordered:"",separator:""},{default:h(()=>[(U(!0),G(Re,null,je(n.attestations,(f,S)=>(U(),N(es,{key:S,onBeforeShow:w=>s.attestationTests(f.id)},{header:h(()=>[d(_e,null,{default:h(()=>[d(Ie,null,{default:h(()=>[W("\u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044F \u043E\u0442 "+O(s.dateFormat(f.date_start))+" "+O(this.attestationPositionName(f)),1)]),_:2},1024)]),_:2},1024)]),default:h(()=>[d(De,null,{default:h(()=>[typeof n.attestations=="undefined"||n.attestations===null?(U(),N(T,{key:0,rows:6})):(U(),N(le,{key:1,class:"text-caption"},{default:h(()=>[(U(!0),G(Re,null,je(f.tests,w=>(U(),G("div",{key:w},[c("h6",null,O(w.name),1),c("div",{innerHTML:s.testResult(w)},null,8,vl)]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["onBeforeShow"]))),128))]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}var Jl=Fe(dl,[["render",hl]]);export{Jl as default};
