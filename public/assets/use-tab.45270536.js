import{e as f,r as g,a as u,f as $,o as L,i as M,G as j,U as A,h as r,ag as N,E as y,a1 as Q,au as W,P as k,s as E,g as F,av as O}from"./index.a14f477b.js";import{u as U}from"./uid.42677368.js";let G=0;const J=["click","keydown"],V={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${G++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function X(e,P,c,l){const a=M(N,f);if(a===f)return console.error("QTab/QRouteTab component needs to be child of QTabs"),f;const{proxy:_}=F(),b=g(null),h=g(null),m=g(null),R=u(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),v=u(()=>a.currentModel.value===e.name),x=u(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(l!==void 0?l.linkClass.value:"")),T=u(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),I=u(()=>e.disable===!0||a.hasFocus.value===!0||v.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function C(t,n){if(n!==!0&&b.value!==null&&b.value.focus(),e.disable===!0){l!==void 0&&l.hasRouterLink.value===!0&&y(t);return}if(l===void 0){a.updateModel({name:e.name}),c("click",t);return}if(l.hasRouterLink.value===!0){const i=(o={})=>{let d;const K=o.to===void 0||O(o.to,e.to)===!0?a.avoidRouteWatcher=U():null;return l.navigateToRouterLink(t,{...o,returnRouterError:!0}).catch(s=>{d=s}).then(s=>{if(K===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,d===void 0&&(s===void 0||s.message!==void 0&&s.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),o.returnRouterError===!0)return d!==void 0?Promise.reject(d):s})};c("click",t,i),t.defaultPrevented!==!0&&i();return}c("click",t)}function w(t){Q(t,[13,32])?C(t,!0):W(t)!==!0&&t.keyCode>=35&&t.keyCode<=40&&t.altKey!==!0&&t.metaKey!==!0&&a.onKbdNavigate(t.keyCode,_.$el)===!0&&y(t),c("keydown",t)}function S(){const t=a.tabProps.value.narrowIndicator,n=[],i=r("div",{ref:m,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&n.push(r(k,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&n.push(r("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&n.push(e.alertIcon!==void 0?r(k,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):r("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),t===!0&&n.push(i);const o=[r("div",{class:"q-focus-helper",tabindex:-1,ref:b}),r("div",{class:T.value},E(P.default,n))];return t===!1&&o.push(i),o}const q={name:u(()=>e.name),rootRef:h,tabIndicatorRef:m,routeData:l};$(()=>{a.unregisterTab(q)}),L(()=>{a.registerTab(q)});function B(t,n){const i={ref:h,class:x.value,tabindex:I.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:C,onKeydown:w,...n};return j(r(t,i,S()),[[A,R.value]])}return{renderTab:B,$tabs:a}}export{J as a,X as b,V as u};
